<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aloïs Deniel - Personnal website</title>
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,200' rel='stylesheet' type='text/css'>
    <link href='http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css' rel='stylesheet' type='text/css'>
    <link href='style/design.css' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <div id="app">
      
      
      <div id="introduction">
        <div class="profilepic"></div>
        <h1>Aloïs Deniel</h1>
        <h2>mobile developer</h2>
      </div>
      
      <a id="contact" href="#" class="pulse">
        <i class="icon ion-ios-email-outline"></i>
      </a>
      
      <ul id="about">
        <li>Born in 1988</li>
        <li>Living in Rennes, France<li>
        <li>Currently working at Orange Business Services<li>
      </ul>
      
      <div id="indicator" class="down">
        <i class="icon ion-ios-arrow-down"></i>
      </div>
      
      <!-- Competences -->
      
      <div class="section">
        <h1>main competences</h1>
        <div id="competences" class="content">
          
          <script id="competences-template" type="text/x-handlebars-template">
            {{#each competences}}
            <div class="competence {{type}}">
              <img src="image/{{ logo }}" />
              <div class="header">
                <h2>{{ title }}</h2>
                <h3>
                  {{#each circles}}
                  <i class="icon ion-ios-circle-{{levelValue this}}"></i>
                  {{/each}}
                  &nbsp; {{levelName circles}}
                </h3>
              </div>
              <div class="description">
                <p>{{ description }}</p>
              </div>
            </div>
          {{/each}}
          </script>
                
        </div>
      </div>
      
      
      <div class="section dark">
        <h1>experience</h1>
        <div class="content">
          
        </div>
      </div>
      
      <div class="section">
        <h1>open-source</h1>
        <div class="content">
          
        </div>
      </div>
      
      <div class="section">
        <h1>hobbies</h1>
        <div class="content">
          
        </div>
      </div>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script>
      
      
      var context = {
        competences: [
          {
            title: "xamarin",
            description: "Blah blah blah",
            type: "primary",
            logo: "logo_xamarin.png",
            circles: [1,1,1,1]
          },
          {
            title: "windows platform",
            description: "Blah blah blah",
            type: "primary",
            logo: "logo_windows.png",
            circles: [1,1,1,1]
          },
          {
            title: "ios",
            description: "Blah blah blah",
            type: "primary",
            logo: "logo_apple.png",
            circles: [1,1,1,0]
          },
          {
            title: "node.js",
            description: "Blah blah blah",
            type: "secondary",
            logo: "logo_nodejs.png",
            circles: [1,1,0,0]
          },
          {
            title: "design",
            description: "Blah blah blah",
            type: "secondary",
            logo: "logo_ps.png",
            circles: [1,1,0,0]
          },
          {
            title: "android",
            description: "Blah blah blah",
            type: "secondary",
            logo: "logo_android.png",
            circles: [1,1,0,0]
          }
        ]
      };
      
      Handlebars.registerHelper('levelValue', function(value) {
        return value > 0 ? "filled" : "outline";
      });
      
      Handlebars.registerHelper('levelName', function(values) {
        
        var value = 0
        for(var v in values) { value += values[v];  }
        switch(value)
        {
          case 4: return "referent";
          case 3: return "expert";
          case 2: return "experienced";
          case 1: return "beginner";
          default: return "none";
        } 
        return value > 0 ? "filled" : "outline";
      });
      
      var source   = document.getElementById("competences-template");
      var template = Handlebars.compile(source.innerHTML);
      var html    = template(context);
      var div = document.createElement('div');
      div.innerHTML = html;
      var node = document.getElementById("competences");
      console.log(node)
      node.appendChild(div);
    </script>
  </body>
</html>
